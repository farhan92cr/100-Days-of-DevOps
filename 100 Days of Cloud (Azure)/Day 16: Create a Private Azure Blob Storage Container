Day 16: Create a Private Azure Blob Storage Container:
As part of the data migration process, the Nautilus DevOps team is actively creating several storage containers on Azure. They plan to utilize private Blob containers to store the relevant data. Given the ongoing migration of other infrastructure to Azure, it is logical to consolidate data storage within the Azure environment as well.

Create a new storage account named devopsst3095 and a private Blob container named devops-blob-13395 within the storage account.



Use below given Azure Credentials: (You can run the showcreds command on the azure-client host to retrieve credentials)

Portal URL	https://portal.azure.com
Username	kk_lab_user_main-8c28fb9a88754530@azurefreekmlprod.onmicrosoft.com
Password	#x8&mwfd
Start Time	Thu Dec 11 05:48:27 UTC 2025
End Time	Thu Dec 11 06:48:27 UTC 2025


SOLUTION:

Simple Explanation of Day 16 Lab
Today you're creating a private cloud storage locker in Azure. Think of it like this:

Storage Account (devopsst3095) = The entire storage building

Blob Container (devobs-blob-13395) = One private locker inside that building

Private = Only people with the right key (credentials) can open it

You're setting up secure cloud storage where you can upload files (like documents, images, backups) that only authorized people can access.

Key Terms Defined
Azure Blob Storage: Azure's object storage service for storing massive amounts of unstructured data (files, images, videos, backups).

Storage Account: A container that groups Azure storage services together. All access to storage goes through this account.

Blob Container: A folder/directory within Blob Storage that holds your files (called "blobs").

Private Container: A container that requires authentication/authorization to access. No anonymous/public access allowed.

Public Access: When files can be accessed by anyone with the URL (like public websites). You're making sure this is disabled.

Why This Lab Is Important & Benefits
üîê Security First
You're creating private storage by default. This prevents accidental exposure of sensitive data to the internet.

üìÅ Organized Cloud Storage
You learn how to structure cloud storage:

Storage Account (top level)

Container (like a folder)

Blobs (your actual files)

üíº Real-World Use Cases
Application Data: Store user uploads, profile pictures, documents

Backup Storage: Backup databases, VM disks, configuration files

Log Files: Centralized storage for application logs

Data Lakes: Store large datasets for analytics

Media Files: Host videos/images for apps/websites

‚ö° Cloud Benefits
Scalable: Automatically grows as you add more files

Durable: Azure keeps multiple copies (99.999999999% durability)

Accessible: Access files from anywhere via API/URL

Cost-effective: Pay only for what you use

Simple Analogy
Think of Azure Storage like a bank:

Storage Account = The bank building

Container = A safety deposit box

Private Setting = You need a key (credentials) to open it

Files = The valuables you store inside

Today, you're renting a safety deposit box in a secure bank!

What You Just Created
You now have:

‚úÖ A secure storage "building" (devopsst3095)

‚úÖ A private "locker" inside it (devobs-blob-13395)

‚úÖ No public access - files are completely private

This is the foundation for storing any type of data securely in Azure cloud!


For Day 16, you need to create an Azure Blob Storage account and a private container within it. You can do this entirely from the command line using the Azure CLI.

Here are the steps to complete the lab.

üîë Step 1: Log in to Azure
Use the provided credentials to authenticate with your Azure account.

bash
az login -u kk_lab_user_main-8c28fb9a88754530@azurefreekmlprod.onmicrosoft.com -p "#x8&mwfd"
üì¶ Step 2: Create the Storage Account
You need to create a storage account with the exact name devopsst3095. First, find your resource group, then run the create command.

Find your resource group name:

bash
az group list --output table
Note the name of your resource group (e.g., kml_rg_main-xxxxx).

Create the storage account. The --allow-blob-public-access false parameter ensures that no containers can be made public later.

bash
az storage account create \
    --resource-group <YOUR_RESOURCE_GROUP> \
    --name devopsst3095 \
    --location eastus \
    --sku Standard_LRS \
    --allow-blob-public-access false
Replace <YOUR_RESOURCE_GROUP> with the actual name from Step 1.

üìÅ Step 3: Create the Private Container
Now, create a container named devops-blob-13395 inside the new storage account. The container will be private by default, as the account setting prevents public access.

bash
az storage container create \
    --account-name devopsst3095 \
    --name devops-blob-13395 \
    --auth-mode login
‚úÖ Step 4: Verify Your Resources
Finally, confirm that both the storage account and the private container were created successfully.

Check the storage account:

bash
az storage account show \
    --resource-group <YOUR_RESOURCE_GROUP> \
    --name devopsst3095 \
    --query "{Name:name, PublicAccess:allowBlobPublicAccess}" -o table
Ensure PublicAccess is false.

List the container in the account:

bash
az storage container list \
    --account-name devopsst3095 \
    --auth-mode login \
    --query "[].name" -o table
You should see devops-blob-13395 in the list.

üí° Key Concept: Access Levels in Azure Storage
The security of your container is controlled by two settings:

Account-Level (AllowBlobPublicAccess): The command in Step 2 sets this to false, which disables public access for the entire account.

Container-Level (Public Access Level): This is set to "Private (no anonymous access)" by default for any new container. Since the account-level setting is false, this container-level setting cannot be changed to allow public access.

This two-tier system ensures your devops-blob-13395 container remains private. Access will require authorization, such as the account key, a connection string, or a Shared Access Signature (SAS) token.

If you encounter an issue where the storage account name devopsst3095 is already taken (as names must be globally unique), please let me know, and we can troubleshoot with an alternative name.




-----------

